<html>
  <head>
    <meta charset="UTF-8">
    <title> Rocket Tracking App </title>
    <!-- https://electronjs.org/docs/tutorial/security#csp-meta-tag -->
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />

    <link rel="stylesheet" type="text/css" href="./styles/base.css">

    <script src="./node_modules/chart.js/dist/Chart.js"></script>


  </head>

  <body>
    <div class='topbar'>
      <a class='' href="./index.html"> Home</a>
      <a href="./rocket.html"> Rocket Details</a>
      <a href="./hud.html"> HUD</a>
      <a href="./telemetry.html"> Telemetry</a>
    </div>

    <h1> Telemetry </h1>
    



    <canvas id="myChart" width="400" height="400"></canvas>














  </body>


  



  <script>

    var dataArray = [ 12,14,15,17,20 ];


    var data = {
				labels:dataArray,
				datasets: [{
					label: [ "Altitude"],
					data: dataArray,
					fill: false,
        }]
    }

    var	options =  {
				responsive: true,
				title: {
					display: true,
					text: 'Rocket Altitude Chart'
				},
				tooltips: {
					mode: 'index',
					intersect: false,
				},
				hover: {
					mode: 'nearest',
					intersect: true
				},
				scales: {
					xAxes: [{
						display: true,
						scaleLabel: {
							display: true,
							labelString: 'Month'
						}
					}],
					yAxes: [{
						display: true,
						scaleLabel: {
							display: true,
							labelString: 'Value'
						}
					}]
				}
			}
    var ctx = document.getElementById('myChart').getContext('2d');

    var myLineChart = new Chart(ctx, {
        type: 'line',
        data: data,
        options: options
    });

    
    setInterval(function(){ 
      var arrayLength = dataArray.length;
      var value = Math.floor(Math.random() * 10) + dataArray[arrayLength-1] ;  //Add a random value to end of array
      dataArray.push(value);
      myLineChart.update(); }
    , 
    3000);

  </script>
</html>